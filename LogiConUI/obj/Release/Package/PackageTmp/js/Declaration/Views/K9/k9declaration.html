
<div class="container" ng-controller="k9Cntrl as Cntrl" id="k9Header">
    <style type="text/css">
        .Activitycontainer {
            width: 400px;
            margin: 10px;
        }

        .txtCls {
            width: 100px;
            text-align: right;
        }

        .chart-width > div {
            width: 20%;
        }

        .custom-popup-wrapper {
            position: absolute;
            top: 100%;
            left: 0;
            z-index: 1000;
            display: none;
            background-color: #f9f9f9;
        }

            .custom-popup-wrapper > .message {
                padding: 10px 20px;
                border-bottom: 1px solid #ddd;
                color: #868686;
            }

            .custom-popup-wrapper > .dropdown-menu {
                position: static;
                float: none;
                display: block;
                min-width: 160px;
                background-color: transparent;
                border: none;
                border-radius: 0;
                box-shadow: none;
            }

        tr.dropdown-menu {
            display: block;
        }

        .mytable {
            background-color: #fff;
            -webkit-background-clip: padding-box;
            background-clip: padding-box;
            border: 1px solid #ccc;
            border: 1px solid rgba(0,0,0,.15);
            border-radius: 4px;
            -webkit-box-shadow: 0 6px 12px rgba(0,0,0,.175);
            box-shadow: 0 6px 12px rgba(0,0,0,.5);
            position: absolute;
            width: 550px;
            z-index: 99999;
        }

            .mytable thead tr {
                background-color: #367fa9;
                color: #fff;
            }

                .mytable thead tr td {
                    background-color: #367fa9;
                    color: #fff;
                    font-weight: bold;
                }

            .mytable > tbody > tr > td, .mytable > tbody > tr > th, .mytable > tfoot > tr > td, .mytable > tfoot > tr > th,
            .mytable > thead > tr > td, .mytable > thead > tr > th {
                padding: 3px;
            }

        .chart-width > div {
            width: 20%;
        }

        .table-bordered {
            border-bottom: 1px solid #f0f0f0;
            border-left: 1px solid #f0f0f0;
            border-right: 1px solid #f0f0f0;
        }

        .table tr td, .table tr th {
            text-align: right;
        }

        /*.table tr th {
            text-align: left;
        }*/

        .card {
            margin-bottom: 10px !important;
        }

        /*@media screen and (min-width: 768px) .ng-table-pager {
            background: #f4f4f4;
        }*/
    </style>
    <script type="text/ng-template" id="activities.html">
        <div class="Activitycontainer">
            <div class="row" style="height:300px;overflow-y:scroll">
                <div class="col-xs-12" ng-repeat="item in Cntrl.activityList" style="border-bottom:1px solid rgb(224,224,224);">
                    <a href="#">
                        <p>
                            {{ item.ActivityBy }}
                            <span class="pull-right"><small><i class="fa fa-clock-o"></i> {{ item.ActivityDate | date:'medium' }}</small></span>
                        </p>
                        <h4>{{ item.AcitivtyMessage }}</h4>
                    </a>
                </div>
            </div>
        </div>
    </script>
    <script type="text/ng-template" id="voyage-autocomplete.html">
        <table ng-show="isOpen() && !moveInProgress"
               aria-hidden="{{!isOpen()}}"
               class="table  table-vmiddle table-hover table-bordered mytable"
               ng-style="{top: position().top+'px', left: position().left+'px'}"
               style="">
            <thead>
                <tr>
                    <th>Vessel ID</th>
                    <th>Vessel Name</th>
                    <th>ETA</th>
                    <th>ETD</th>
                    <th>Terminal</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="match in matches track by $index" ng-click="selectMatch($index)">
                    <td>{{match.model.VesselID}}</td>
                    <td>{{match.model.VesselName}}</td>
                    <td>{{match.model.ETA | date :  'dd/MM/yyyy hh:mm a' }}</td>
                    <td>{{match.model.ETD | date :  'dd/MM/yyyy hh:mm a' }}</td>
                    <td>{{match.model.TerminalName}}</td>
                </tr>
            </tbody>
        </table>
    </script>
    <form id="frmk9" name="frmk9" ng-class="{'submitted': submitted}" ng-submit="Savek9Declaration(k9)" autocomplete="off" novalidate>
        <div class="card" id="iFrameMaininner">
            <div class="lv-header-alt clearfix m-b-5">

                <h2 class="lvh-label">K9</h2>
                <!--<ul class="top-menu pull-right m-r-5 m-b-0 ">
                    <li class="dropdown" uib-dropdown>
                        <a uib-dropdown-toggle class="btn bgm-gray waves-effect ">
                            <i class="tmn-counts">9</i>
                            <i class="tm-icon zmdi zmdi-notifications"></i>


                        </a>
                        <div class="dropdown-menu dropdown-menu-lg pull-right">
                            <div class="listview" id="notifications">
                                <div class="lv-header">
                                    Notification

                                    <ul class="actions">
                                        <li class="dropdown">
                                            <a href="" data-clear="notification">
                                                <i class="zmdi zmdi-check-all"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="lv-body c-overflow">
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">09:49 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">document received</div>
                                                <small class="lv-small username">syamsul</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">09:49 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">Order Accepted</div>
                                                <small class="lv-small username">syamsul</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">09:49 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">rate matched</div>
                                                <small class="lv-small username">syamsul</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">09:49 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">
                                                    job opened
                                                </div>
                                                <small class="lv-small username">syamsul</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">09:49 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">
                                                    cost sheet updated by user
                                                </div>
                                                <small class="lv-small username">syamsul</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">10:28 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">payment request created </div>
                                                <small class="lv-small username">diyana</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">10:28 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">
                                                    cost sheet updated by user
                                                </div>
                                                <small class="lv-small username">diyana</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">10:29 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">customer invoice created</div>
                                                <small class="lv-small username">diyana</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">10:30 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">cost sheet updated by user</div>
                                                <small class="lv-small username">diyana</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">10:35 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">payment request printed</div>
                                                <small class="lv-small username">diyana</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">08:50 PM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">customer invoice approved</div>
                                                <small class="lv-small username">thomas</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">09:16 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">customer invoice printed</div>
                                                <small class="lv-small username">syamsul</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">08:43 AM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">cost sheet updated by user</div>
                                                <small class="lv-small username">diyana</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">02:07 PM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">payment request approved </div>
                                                <small class="lv-small username">diyana</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="lv-item p-l-10 p-r-10" href="">
                                        <div class="media">
                                            <div class="pull-left  p-r-10 m-r-10 border-row-right">

                                                <strong class="c-gray f-10">May 21, 2015</strong><br />
                                                <small class="c-gray">01:51 PM</small>
                                            </div>
                                            <div class="media-body">
                                                <div class="lv-title">cost sheet updated by user</div>
                                                <small class="lv-small username">diyana</small>
                                            </div>
                                        </div>
                                    </a>
                                </div>

                                <a class="lv-footer" href="">View Previous</a>
                            </div>

                        </div>
                    </li>
                </ul>-->

                <button type="button" popover-placement="left" ng-if="IsDeclarationValidated"
                        ng-click="Clonek9(k9.declarationHeaderK9.DeclarationNo)" has-Right data-rightValue="DeclarationK9.Copy"
                        ng-disabled="IsCloneBtnDisabled"
                        popover-trigger="mouseenter"
                        popover="Copy to new k9 Form"
                        class="btn bgm-gray m-r-5 waves-effect pull-right"
                        style="margin-right:15px;">
                    <i class="zmdi zmdi-copy"></i>
                </button>
            </div>
            <div class="card-body card-padding p-t-25 p-b-25">
                <input type="hidden" ng-model="k9.DeclarationType" name="k9.DeclarationType" ng-init="k9.DeclarationType = 9101" />
                <div class="row">
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Declaration Job No.</label>
                            <input type="text"
                                   ng-model="k9.declarationHeaderK9.DeclarationNo"
                                   name="k9.DeclarationNo" ng-maxlength="100" logicon-limit ng-disabled="true" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Open Date</label>
                            <input mdc-datetime-picker="" class="date-icon" date="true" time="false" type="text"
                                   id="OpenDate" format="{{dateFormat}}"
                                   min-date="date" ng-model="k9.declarationHeaderK9.OpenDate"
                                   name="k9.declarationHeaderK9.OpenDate"
                                   ng-required="true"
                                   ng-disabled="!IsNew">
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Declaration Date</label>
                            <input mdc-datetime-picker="" date="true" class="date-icon" time="false" type="text" id="dateFrom" format="{{dateFormat}}"
                                   min-date="date" ng-model="k9.declarationHeaderK9.ImportDate"
                                   name="k9.ImportDate"
                                   ng-required="true"
                                   ng-disabled="!IsNew">
                        </md-input-container>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Order No.</label>
                            <input type="text"
                                   ng-model="k9.declarationHeaderK9.OrderNo" name="k9.declarationHeaderK9.OrderNo" ng-disabled="true" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Reference No/Job No</label>
                            <input type="text"
                                   ng-model="k9.declarationHeaderK9.CustomerReferenceNo"
                                   name="k9.declarationHeaderK9.CustomerReferenceNo"
                                   ng-maxlength="50"
                                   logicon-limit
                                   ng-required="true" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Declaration Shipment Type</label>
                            <md-select ng-model="k9.declarationHeaderK9.DeclarationShipmentType" name="k9.declarationHeaderK9.DeclarationShipmentType" ng-required="true">
                                <md-option ng-repeat="item in lookUpData.DeclarationshipmentTypeList" ng-value="item.Value">
                                    {{item.Text}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>

                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Transport Mode</label>
                            <md-select ng-model="k9.declarationHeaderK9.TransportMode"
                                       name="k9.declarationHeaderK9.TransportMode"
                                       ng-change="ChangeTransportMode(k9.declarationHeaderK9.TransportMode)"
                                       ng-required="true"
                                       ng-disabled="!IsNew">
                                <md-option ng-repeat="item in lookUpData.transportModeList" ng-value="item.Value">
                                    {{item.Text}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Shipment Type</label>
                            <md-select ng-model="k9.declarationHeaderK9.ShipmentType" name="k9.declarationHeaderK9.ShipmentType" ng-required="true" ng-change="changeShipmentType(k9.declarationHeaderK9.ShipmentType)" ng-disabled="!IsNew">
                                <md-option ng-repeat="item in lookUpData.shipmentTypeList" ng-value="item.Value">
                                    {{item.Text}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>SMK TRANSACTION TYPE</label>
                            <md-select ng-model="k9.declarationHeaderK9.TransactionType" name="k9.TransactionType" ng-required="true" ng-change="LoadSMKCode(k9.TransactionType)">
                                <md-option ng-repeat="item in lookUpData.K9ATransactionTypeList" ng-value="item.Value">
                                    {{item.Text}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Consignee/Importer</label>
                            <input type="text" class="search-icon"
                                   ng-class="{'loadinggif': k9.LocalTraderDescriptionLoading}"
                                   ng-model="k9.declarationHeaderK9.ImporterName" name="k9.declarationHeaderK9.ImporterName"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.Text as d.Text for d in GenericMerchantResults($viewValue, 'consignee')"
                                   typeahead-loading="k9.LocalTraderDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="MerchantSelected($item, 'Importer')"
                                   ng-required="true" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Consignor/Exporter</label>
                            <input type="text" class="search-icon"
                                   ng-class="{'loadinggif': k9.OverseasTraderDescriptionLoading}"
                                   ng-model="k9.declarationHeaderK9.ExporterName" name="k9.declarationHeaderK9.ExporterName"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.Text as d.Text for d in GenericMerchantResults($viewValue, 'Shipper')"
                                   typeahead-loading="k9.OverseasTraderDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="MerchantSelected($item, 'Exporter')"
                                   ng-required="true" />
                        </md-input-container>
                    </div>
                </div>
                <div class="row m-b-25">
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Applicant</label>
                            <input type="text" class="search-icon"
                                   ng-class="{'loadinggif': k9.LocalTraderDescriptionLoading}"
                                   ng-model="k9.declarationHeaderK9.ApplicantName" name="k9.declarationHeaderK9.ApplicantName"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.Text as d.Text for d in GenericMerchantResults($viewValue, 'Applicant')"
                                   typeahead-loading="k9.LocalTraderDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="MerchantSelected($item, 'Applicant')"
                                   ng-required="true" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Shipping Agent</label>
                            <input type="text"
                                   class="search-icon"
                                   name="k9.declarationHeaderK9.ShippingAgentName"
                                   ng-required="k9.declarationHeaderK9.TransportMode==1020 || k9.declarationHeaderK9.TransportMode==1021"
                                   ng-class="{'loadinggif': k9.ShippingAgentLoading}"
                                   ng-model="k9.declarationHeaderK9.ShippingAgentName"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.Text as d.Text for d in GenericMerchantResults($viewValue, 'Liner','ShippingAgentAddress')"
                                   typeahead-loading="k9.ShippingAgentLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="CustomerSelected($item, 'ShippingAgent','ShippingAgentAddress')" />
                        </md-input-container>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Place of Import</label>
                            <input type="text"
                                   class="search-icon"
                                   name="k9.declarationShipmentK9.PlaceOfImportName"
                                   ng-class="{'loadinggif': k9.declarationShipmentK9.PlaceOfImportDescriptionLoading}"
                                   ng-model="k9.declarationShipmentK9.PlaceOfImportName"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.PortName as d.PortName for d in PortAutoComplete($viewValue)"
                                   typeahead-loading="k9.PlaceOfImportDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="PortSelected($item,'PlaceOfImport')"
                                   ng-required="true" />
                        </md-input-container>
                    </div>

                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Customs Station Code</label>
                            <md-select ng-model="k9.declarationHeaderK9.CustomStationCode" name="k9.declarationHeaderK9.CustomStationCode" ng-required="true">
                                <md-option ng-repeat="item in lookUpData.smkList" ng-value="item.Value">
                                    {{item.Text}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>

                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Discharge Port</label>
                            <input type="text"
                                   ng-class="{'loadinggif': k9.declarationShipmentK9.DischargePortDescriptionLoading}"
                                   ng-model="k9.declarationShipmentK9.DischargePortName"
                                   class="search-icon"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.PortName as d.PortName for d in PortAutoComplete($viewValue)"
                                   typeahead-loading="k9.declarationShipmentK9.DischargePortDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="PortSelected($item, 'DischargePort')"
                                   ng-required="true" ng-disabled="true" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Loading Port</label>
                            <input type="text" class="search-icon"
                                   ng-class="{'loadinggif': k9.declarationShipmentK9.LoadingPortDescriptionLoading}"
                                   ng-model="k9.declarationShipmentK9.LoadingPortName"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.PortName as d.PortName for d in PortAutoComplete($viewValue)"
                                   typeahead-loading="k9.declarationShipmentK9.LoadingPortDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="PortSelected($item, 'LoadingPort')"
                                   ng-required="true" />
                        </md-input-container>
                    </div>

                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Terminal Operator</label>
                            <input type="text"
                                   class="search-icon"
                                   ng-model="k9.declarationShipmentK9.PortOperatorName"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.Text for d in PortOperatorResults($viewValue)"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="TerminalOperaterSelected($item)"
                                   logicon-limit
                                   ng-blur="k9.declarationShipmentK9.PortOperatorName==null?k9.declarationShipmentK9.PortOperator=null:k9.declarationShipmentK9.PortOperator=k9.declarationShipmentK9.PortOperator" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Transhipment Port</label>
                            <input type="text"
                                   ng-class="{'loadinggif': k9.declarationShipmentK9.TranshipmentPortDescriptionLoading}"
                                   ng-model="k9.declarationShipmentK9.TranshipmentPortName"
                                   class="search-icon"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.PortName as d.PortName for d in PortAutoComplete($viewValue)"
                                   typeahead-loading="k9.declarationShipmentK9.TranshipmentPortDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   typeahead-on-select="PortSelected($item, 'TranshipmentPort')"
                                   ng-blur="k9.declarationShipmentK9.TranshipmentPortName==null?k9.declarationShipmentK9.TranshipmentPort=null:k9.declarationShipmentK9.TranshipmentPort=k9.declarationShipmentK9.TranshipmentPort" />
                        </md-input-container>
                    </div>


                </div>

                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <div class="row">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Cargo Class</label>
                                    <md-select ng-model="k9.declarationHeaderK9.CargoClass" ng-required="true">
                                        <md-option ng-repeat="item in lookUpData.cargoClassList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Cargo Description</label>
                                    <textarea ng-required="true"
                                              ng-model="k9.declarationHeaderK9.CargoDescription"
                                              md-maxlength="70" logicon-limit rows="3" md-select-on-focus style="overflow-y:auto"></textarea>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">

                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Marks And No's</label>
                                    <textarea ng-required="true" ng-model="k9.declarationHeaderK9.MarksAndNos" md-maxlength="350" logicon-limit rows="3" md-select-on-focus style="overflow-y:auto"></textarea>
                                </md-input-container>
                            </div>
                        </div>


                    </div>
                    <div class="col-xs-12 col-md-6">
                        <div class="row">
                            <div class="col-xs-12">
                                <md-input-container class="md-block flex-gt-sm md-input-has-value" flex-gt-sm="">
                                    <label class="md-required">Declarant ID</label>


                                    <input type="text"
                                           class="search-icon"
                                           name="k9.declarationHeaderK9.DeclarantIDText"
                                           ng-required="true"
                                           ng-class="{'loadinggif': k9.DeclarantIDLoading}"
                                           ng-model="k9.declarationHeaderK9.DeclarantIDText"
                                           typeahead-min-length="3"
                                           uib-typeahead="d.Text as d.Text for d in CustomDeclarantResults($viewValue)"
                                           typeahead-loading="k9.declarationHeaderK9.DeclarantIDLoading"
                                           typeahead-wait-ms="100"
                                           typeahead-editable="false"
                                           typeahead-on-select="CustomDeclarantSelected($item)" />
                                </md-input-container>
                            </div>
                        </div>

                        <div class="row ">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Extra Cargo Description</label>
                                    <textarea ng-model="k9.declarationHeaderK9.ExtraCargoDescription"
                                              md-maxlength="70" logicon-limit rows="3" md-select-on-focus style="overflow-y:auto"></textarea>
                                </md-input-container>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card" id="Location">
            <div class="lv-header-alt clearfix m-b-5">

                <h2 class="lvh-label">Warehouse location</h2>
            </div>
            <div class="card-body card-padding p-t-25 p-b-25">
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Warehouse Name</label>
                            <input type="text"
                                   ng-class="{'loadinggif': k9.declarationShipmentK9.TranshipmentPortDescriptionLoading}"
                                   ng-model="k9.declarationHeaderK9.WarehouseFromName"
                                   class="search-icon"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.WarehouseName as d.WarehouseName for d in WarehouseAutoComplete($viewValue)"
                                   typeahead-loading="k9.declarationShipmentK9.TranshipmentPortDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   ng-required="true"
                                   typeahead-on-select="WarehouseSelected($item,'WarehouseFrom')" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Warehouse License No.</label>
                            <input type="text"
                                   ng-class="{'loadinggif': k9.declarationHeaderK9.WareHouseCodeLoading}"
                                   ng-model="k9.declarationHeaderK9.WarehouseLicenseNo"
                                   class="search-icon"
                                   typeahead-min-length="3"
                                   uib-typeahead="d.LicenseNo as d.LicenseNo for d in WarehouseRocAutoComplete($viewValue)"
                                   typeahead-loading="k9.declarationShipmentK9.TranshipmentPortDescriptionLoading"
                                   typeahead-wait-ms="100"
                                   typeahead-editable="false"
                                   ng-maxlength="8"
                                   logicon-number
                                   typeahead-on-select="WarehouseSelected($item,'WarehouseFrom')" />
                        </md-input-container>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Warehouse Address</label>
                            <input type="text"
                                   ng-model="k9.declarationHeaderK9.WarehouseAddress" name="k9.declarationHeaderK9.WarehouseAddress" logicon-limit ng-maxlength="135" ng-required="true" />
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-6">

                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Warehouse info</label>
                            <input type="text"
                                   ng-model="k9.declarationHeaderK9.WareHouseInfo" name="k9.declarationShipment.WareHouseInfo" />
                        </md-input-container>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Warehouse Deposit Date</label>
                            <input mdc-datetime-picker="" class="date-icon" date="true" time="false" type="text" id="dateFrom" format="{{dateFormat}}"
                                   min-date="date" name="k9.declarationHeaderK9.WareHouseDepositDate"
                                   ng-model="k9.declarationHeaderK9.WareHouseDepositDate">
                        </md-input-container>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Warehouse Deposit Receipt No.</label>
                            <input type="text"
                                   ng-model="k9.declarationHeaderK9.WareHouseDepositNo" name="k9.declarationHeaderK9.WareHouseDepositNo"
                                   logicon-limit ng-maxlength="10"
                                   ng-required="true" />
                        </md-input-container>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" id="invoiceDetails">
            <div class="col-xs-12">
                <div class="card">
                    <div class="lv-header-alt clearfix m-b-5">
                        <h2 class="lvh-label">Invoice Details</h2>
                    </div>
                    <div class="card-body card-padding p-t-25 p-b-25">

                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Invoice No</label>
                                    <input type="text"
                                           name="k9.declarationInvoiceK9.InvoiceNo"
                                           ng-model="k9.declarationInvoiceK9.InvoiceNo"
                                           ng-maxlength="17"
                                           logicon-limit
                                           ng-required="true" />
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Invoice Date</label>
                                    <input mdc-datetime-picker="" date="true" time="false" type="text" id="dateFrom" format="{{dateFormat}}" class="date-icon"
                                           min-date="date" name="k9.declarationInvoiceK9.InvoiceDate"
                                           ng-required="true"
                                           ng-model="k9.declarationInvoiceK9.InvoiceDate">
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>INVOICE VALUE</label>
                                    <input type="text"
                                           id="InvoiceValuek9"
                                           name="InvoiceValuek9"
                                           logicon-format2="2"
                                           ng-pattern="'^[0-9]{0,9}.?[0-9]{0,2}$'"
                                           ng-model="k9.declarationInvoiceK9.InvoiceValue"
                                           ng-blur="IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency)"
                                           ng-required="true" />
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Currency / Rate</label>
                                    <md-select name="k9.declarationInvoiceK9.InvoiceCurrencyCode"
                                               ng-model="k9.declarationInvoiceK9.InvoiceCurrencyCode"
                                               ng-required="true"
                                               ng-change="
                                                   k9.declarationInvoiceK9.FreightAmountCurrencyCode=k9.declarationInvoiceK9.InvoiceCurrencyCode;
                                                   k9.declarationInvoiceK9.InsuranceAmountCurrencyCode=k9.declarationInvoiceK9.InvoiceCurrencyCode;
                                                   CurrencyRateChanged();
                                                   ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.FreightAmountPercent,
                                                   k9.declarationInvoiceK9.IsFreightCurrency,
                                                   k9.declarationInvoiceK9.FreightAmountCurrencyCode,'FreightAmountValue');
                                                   ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.InsuranceAmountPercent,
                                                   k9.declarationInvoiceK9.IsInsuranceCurrency,
                                                   k9.declarationInvoiceK9.InsuranceAmountCurrencyCode,'InsuranceAmountValue');">

                                        <md-option ng-repeat="item in lookUpData.currencyList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Invoice Value Equivalent in MYR</label>
                                    <input type="text"
                                           logicon-format="2"
                                           name="k9.declarationInvoiceK9.InvoiceLocalAmount"
                                           ng-model="k9.declarationInvoiceK9.InvoiceLocalAmount"
                                           ng-disabled="true"
                                           logicon-limit
                                           logicon-decimal />
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>INCOTERM</label>
                                    <md-select name="k9.declarationInvoiceK9.IncoTerm"
                                               ng-model="k9.declarationInvoiceK9.IncoTerm"
                                               ng-change="IncoTermChanged()"
                                               ng-required="true">
                                        <md-option ng-repeat="item in lookUpData.incoTermList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Gross Weight</label>
                                    <input type="text"
                                           id="GrossWeight"
                                           name="GrossWeight"
                                           logicon-format2="4"
                                           ng-pattern="'^[0-9]{0,7}.?[0-9]{0,4}$'"
                                           ng-model="k9.declarationInvoiceK9.GrossWeight"
                                           ng-required="true" />
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>UOM</label>
                                    <md-select name="k9.declarationInvoiceK9.UOMWeight"
                                               ng-model="k9.declarationInvoiceK9.UOMWeight" ng-required="true">
                                        <md-option ng-repeat="item in lookUpData.uomList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Gross Volume</label>
                                    <input type="text"
                                           id="GrossVolume"
                                           name="GrossVolume"
                                           logicon-format2="4"
                                           ng-pattern="'^[0-9]{0,7}.?[0-9]{0,4}$'"
                                           ng-model="k9.declarationInvoiceK9.GrossVolume"
                                           ng-required="true" />
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>UOM</label>
                                    <md-select name="k9.declarationInvoiceK9.UOMVolume"
                                               ng-model="k9.declarationInvoiceK9.UOMVolume" ng-required="true">
                                        <md-option ng-repeat="item in lookUpData.uomList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Packaging Quantity</label>
                                    <input type="text"
                                           name="k9.declarationInvoiceK9.PackageQty"
                                           ng-model="k9.declarationInvoiceK9.PackageQty"
                                           ng-required="true"
                                           ng-maxlength="6"
                                           logicon-limit
                                           logicon-number />


                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Packaging Type</label>
                                    <md-select name="k9.declarationInvoiceK9.PackingTypeCode"
                                               ng-model="k9.declarationInvoiceK9.PackingTypeCode" ng-required="true">
                                        <md-option ng-repeat="item in lookUpData.packingTypeCodeList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Packaging Material</label>
                                    <md-select name="k9.declarationInvoiceK9.PackingMaterialCode"
                                               ng-model="k9.declarationInvoiceK9.PackingMaterialCode" ng-required="true">
                                        <md-option ng-repeat="item in lookUpData.packagingMaterialCodeList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-3" ng-if="k9.declarationHeaderK9.TransportMode == 1021">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>UCN No</label>
                                    <input type="text"
                                           name="k8.UCNNo"
                                           ng-model="k9.declarationHeaderK9.UCNNo"
                                           ng-maxlength="25"
                                           logicon-limit />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Pay Country</label>
                                    <md-select name="k9.declarationInvoiceK9.PayCountry"
                                               ng-model="k9.declarationInvoiceK9.PayCountry" ng-change="PayCountryTest=(lookUpData.countryList | filter : {Value:k9.declarationInvoiceK9.PayCountry})[0].Text">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.countryList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                    </div>

                    <div style="clear:both"></div>
                </div>
            </div>

        </div>
        <div class="row" id="chargesInfo">
            <div class="col-xs-12">
                <div class="card">
                    <div class="lv-header-alt clearfix m-b-5">
                        <h2 class="lvh-label">Charges Information</h2>
                    </div>
                    <div class="card-body card-padding p-t-5 p-b-5">
                        <div class="row">

                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Port</label>
                                    <input type="text"
                                           id="PortAmountPercent"
                                           name="PortAmountPercent"
                                           logicon-format2="2"
                                           ng-pattern="'^[0-9]{0,9}.?[0-9]{0,2}$'"
                                           ng-model="k9.declarationInvoiceK9.PortAmountPercent"
                                           ng-blur="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.PortAmountPercent,false,k9.declarationInvoiceK9.PortAmountCurrencyCode,'PortAmountValue');
                                           IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);" />
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-1"></div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Curr. Rate</label>
                                    <md-select name="k9.declarationInvoiceK9.PortAmountCurrencyCode"
                                               ng-model="k9.declarationInvoiceK9.PortAmountCurrencyCode"
                                               ng-change="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.PortAmountPercent,false,k9.declarationInvoiceK9.PortAmountCurrencyCode,'PortAmountValue');
                                               IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.currencyList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-2">

                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Value In MYR</label>
                                    <input type="text"
                                           logicon-format="2"
                                           name="k9.declarationInvoiceK9.PortAmountValue"
                                           ng-model="k9.declarationInvoiceK9.PortAmountValue"
                                           ng-maxlength="18"
                                           logicon-control-currency="2"
                                           logicon-decimal
                                           logicon-limit
                                           ng-disabled="true" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-10 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Freight</label>
                                    <input type="text"
                                           id="FreightAmountPercent"
                                           name="FreightAmountPercent"
                                           logicon-format2="2"
                                           ng-pattern="'^[0-9]{0,9}.?[0-9]{0,2}$'"
                                           ng-model="k9.declarationInvoiceK9.FreightAmountPercent"
                                           ng-blur="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.FreightAmountPercent,k9.declarationInvoiceK9.IsFreightCurrency,k9.declarationInvoiceK9.FreightAmountCurrencyCode,'FreightAmountValue');
                                           Calculatepercentageamount();
                                           IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);" />
                                </md-input-container>
                            </div>
                            <div class="col-xs-2 col-md-1">
                                <div class="checkbox m-b-15">
                                    <label>
                                        <input type="checkbox" value="" aria-label="Freight" name="k9.declarationInvoiceK9.IsFreightCurrency"
                                               ng-model="k9.declarationInvoiceK9.IsFreightCurrency"
                                               ng-click="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.FreightAmountPercent,k9.declarationInvoiceK9.IsFreightCurrency,k9.declarationInvoiceK9.FreightAmountCurrencyCode,'FreightAmountValue');
                                               Calculatepercentageamount();
                                               IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);">
                                        <i class="input-helper"></i>

                                    </label>
                                </div>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Curr. Rate</label>
                                    <md-select name="k9.declarationInvoiceK9.FreightAmountCurrencyCode"
                                               ng-model="k9.declarationInvoiceK9.FreightAmountCurrencyCode"
                                               ng-change="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.FreightAmountPercent,k9.declarationInvoiceK9.IsFreightCurrency,k9.declarationInvoiceK9.FreightAmountCurrencyCode,'FreightAmountValue');
                                               IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.currencyList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-2">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>INCOTERM</label>
                                    <md-select name="k9.declarationInvoiceK9.FreightIncoTerm"
                                               ng-model="k9.declarationInvoiceK9.FreightIncoTerm">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.incoTermList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Value In MYR</label>
                                    <input type="text"
                                           name="k9.declarationInvoiceK9.FreightAmountValue"
                                           ng-model="k9.declarationInvoiceK9.FreightAmountValue"
                                           ng-maxlength="18"
                                           logicon-format="2"
                                           logicon-control-currency="2"
                                           logicon-decimal
                                           logicon-limit
                                           ng-disabled="true" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-10 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Insurance</label>
                                    <input type="text"
                                           id="InsuranceAmountPercent"
                                           name="InsuranceAmountPercent"
                                           logicon-format2="2"
                                           ng-pattern="'^[0-9]{0,9}.?[0-9]{0,2}$'"
                                           ng-model="k9.declarationInvoiceK9.InsuranceAmountPercent"
                                           ng-blur="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.InsuranceAmountPercent,k9.declarationInvoiceK9.IsInsuranceCurrency,k9.declarationInvoiceK9.InsuranceAmountCurrencyCode,'InsuranceAmountValue');
                                           Calculatepercentageamount();
                                           IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);" />
                                </md-input-container>
                            </div>
                            <div class="col-xs-2 col-md-1">
                                <div class="checkbox m-b-15">
                                    <label>
                                        <input type="checkbox" value="" aria-label="Insurance" name="k9.declarationInvoice.IsInsuranceCurrency"
                                               ng-model="k9.declarationInvoiceK9.IsInsuranceCurrency"
                                               ng-click="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.InsuranceAmountPercent,k9.declarationInvoiceK9.IsInsuranceCurrency,k9.declarationInvoiceK9.InsuranceAmountCurrencyCode,'InsuranceAmountValue');
                                               Calculatepercentageamount();
                                               IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency,k9.declarationInvoiceK9.IsInsuranceCurrency)">
                                        <i class="input-helper"></i>

                                    </label>
                                </div>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>CURR. RATE</label>
                                    <md-select name="k9.declarationInvoiceK9.InsuranceAmountCurrencyCode"
                                               ng-model="k9.declarationInvoiceK9.InsuranceAmountCurrencyCode"
                                               ng-change="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.InsuranceAmountPercent,k9.declarationInvoiceK9.IsInsuranceCurrency,k9.declarationInvoiceK9.InsuranceAmountCurrencyCode,'InsuranceAmountValue');
                                               IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.currencyList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-2">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>INCOTERM</label>
                                    <md-select name="k9.declarationInvoiceK9.InsuranceIncoTerm"
                                               ng-model="k9.declarationInvoiceK9.InsuranceIncoTerm">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.incoTermList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Value In MYR</label>
                                    <input type="text"
                                           logicon-format="2"
                                           name="k9.declarationInvoiceK9.InsuranceAmountValue"
                                           ng-model="k9.declarationInvoiceK9.InsuranceAmountValue"
                                           ng-maxlength="18"
                                           logicon-control-currency="2"
                                           logicon-decimal
                                           logicon-limit
                                           ng-disabled="true" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Others</label>
                                    <input type="text"
                                           id="OthersAmountPercent"
                                           name="OthersAmountPercent"
                                           logicon-format2="2"
                                           ng-pattern="'^[0-9]{0,9}.?[0-9]{0,2}$'"
                                           ng-model="k9.declarationInvoiceK9.OthersAmountPercent"
                                           ng-blur="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.OthersAmountPercent,false,k9.declarationInvoiceK9.OthersAmountCurrencyCode,'OthersAmountValue');IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);" />
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-1">

                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>CURR. RATE</label>
                                    <md-select name="k9.declarationInvoiceK9.OthersAmountCurrencyCode"
                                               ng-model="k9.declarationInvoiceK9.OthersAmountCurrencyCode"
                                               ng-change="ChargesInfoCurrencyRateChanged(k9.declarationInvoiceK9.OthersAmountPercent,false,k9.declarationInvoiceK9.OthersAmountCurrencyCode,'OthersAmountValue');
                                               IncoTermCalculation(k9.declarationInvoiceK9.IsFreightCurrency, k9.declarationInvoiceK9.IsInsuranceCurrency);">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.currencyList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-2">

                            </div>
                            <div class="col-xs-12 col-md-3">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Value In MYR</label>
                                    <input type="text"
                                           logicon-format="2"
                                           name="k9.declarationInvoiceK9.OthersAmountValue"
                                           ng-model="k9.declarationInvoiceK9.OthersAmountValue"
                                           ng-maxlength="18"
                                           logicon-control-currency="2"
                                           logicon-decimal
                                           logicon-limit
                                           ng-disabled="true" />
                                </md-input-container>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>




        <div class="card" id="shipmentDetails">
            <div class="lv-header-alt clearfix m-b-5">
                <h2 class="lvh-label">Shipment Details</h2>
            </div>
            <div class="card-body card-padding p-t-5 p-b-5">
                <div ng-if="k9.declarationHeaderK9.TransportMode == 1021">
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                            <h2 class="lvh-label">VESSEL DETAILS</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Ship Call No.</label>
                                <input type="text"
                                       class="search-icon"
                                       name="k9.declarationShipmentK9.SCNNo"
                                       ng-required="transportMode == 1021"
                                       ng-class="{'loadinggif': k9.declarationShipmentK9.SCNNoLoading}"
                                       ng-model="k9.declarationShipmentK9.SCNNo"
                                       typeahead-min-length="3"
                                       uib-typeahead="d for d in ShipCallResults($viewValue)"
                                       typeahead-loading="k9.declarationShipmentK9.SCNNoLoading"
                                       typeahead-popup-template-url="voyage-autocomplete.html"
                                       typeahead-wait-ms="100"
                                       typeahead-editable="false"
                                       typeahead-on-select="VoyageSelected($item)" />
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Voyage No.</label>
                                <input type="text"
                                       class="search-icon"
                                       name="k9.declarationShipmentK9.VoyageNo"
                                       ng-required="transportMode == 1021"
                                       ng-class="{'loadinggif':k9.declarationShipmentK9.VoyageNoLoading}"
                                       ng-model="k9.declarationShipmentK9.VoyageNo"
                                       typeahead-min-length="3"
                                       uib-typeahead="d for d in VoyageNoInwardResults($viewValue)"
                                       typeahead-loading="k9.declarationShipmentK9.VoyageNoLoading"
                                       typeahead-popup-template-url="voyage-autocomplete.html"
                                       typeahead-wait-ms="100"
                                       typeahead-editable="false"
                                       typeahead-on-select="VoyageSelected($item)" />
                            </md-input-container>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Vessel ID</label>
                                <input type="text"
                                       class="search-icon"
                                       ng-class="{'loadinggif': k9.VesselIDLoading}"
                                       ng-model="k9.declarationShipmentK9.VesselID"
                                       typeahead-min-length="3"
                                       ng-required="transportMode == 1021"
                                       uib-typeahead="d for d in VesselIdResults($viewValue)"
                                       typeahead-loading="k9.VesselIDLoading"
                                       typeahead-popup-template-url="voyage-autocomplete.html"
                                       typeahead-wait-ms="100"
                                       typeahead-editable="false"
                                       typeahead-on-select="VoyageSelected($item)" ng-maxlength="40" logicon-limit />
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Vessel Name</label>
                                <input type="text"
                                       class="search-icon"
                                       ng-class="{'loadinggif': k9.VesselNameLoading}"
                                       ng-model="k9.declarationShipmentK9.VesselName"
                                       typeahead-min-length="3"
                                       uib-typeahead="d for d in VesselNameResults2($viewValue)"
                                       typeahead-loading="k9.VesselNameLoading"
                                       typeahead-popup-template-url="voyage-autocomplete.html"
                                       typeahead-wait-ms="100"
                                       typeahead-editable="false"
                                       typeahead-on-select="VoyageSelected($item)"
                                       ng-blur="k9.declarationShipmentK9.VesselName==null?'':k9.declarationShipmentK9.VesselName=k9.declarationShipmentK9.VesselName" />
                            </md-input-container>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 col-md-6">

                            <md-input-container class="md-block" flex-gt-sm>
                                <label>ETA Date</label>
                                <input mdc-datetime-picker="" date="true" time="false" type="text" format="{{datetimeFormat}}" class="date-icon"
                                       ng-model="k9.declarationShipmentK9.ETADate"
                                       ng-required="transportMode == 1021 || transportMode == 1020">
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Manifest No.</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.ManifestNo"
                                       ng-model="k9.declarationShipmentK9.ManifestNo" ng-maxlength="100" logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Ocean B/L No.</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.OceanBLNo"
                                       ng-model="k9.declarationShipmentK9.OceanBLNo"
                                       ng-maxlength="15" logicon-limit
                                       ng-required="k9.declarationHeaderK9.TransportMode==1021" />
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>House B/L No.</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.HouseBLNo"
                                       ng-model="k9.declarationShipmentK9.HouseBLNo" ng-maxlength="15" logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                </div>
                <div ng-if="k9.declarationHeaderK9.TransportMode == 1022">
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                            <h2 class="lvh-label">RAIL DETAILS</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Wagon No.</label>
                                <input type="text"
                                       ng-model="k9.declarationShipmentK9.WagonNo" name="k9.declarationShipmentK9.WagonNo" ng-maxlength="70" logicon-limit />
                            </md-input-container>
                        </div>

                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Ocean B/L</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.OceanBLNo"
                                       ng-required="transportMode == 1021 || transportMode == 1022"
                                       ng-model="k9.declarationShipmentK9.OceanBLNo" ng-maxlength="200" logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>House B/L</label>
                                <input type="text"
                                       ng-model="k9.declarationShipmentK9.HouseBLNo" name="k9.declarationShipmentK9.HouseBLNo" ng-maxlength="200" logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                </div>
                <div ng-if="k9.declarationHeaderK9.TransportMode == 1023">
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                            <h2 class="lvh-label">ROAD DETAILS</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Vehicle Registration No. 1</label>
                                <input type="text"
                                       ng-model="k9.declarationShipmentK9.VehicleNo1" name="k9.declarationShipmentK9.VehicleNo1" ng-maxlength="70" logicon-limit ng-required="true" />
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Manifest No.</label>
                                <input type="text"
                                       ng-model="k9.declarationShipmentK9.ManifestNo" name="k9.declarationShipmentK9.ManifestNo" ng-maxlength="70" logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Vehicle Registration No. 2</label>
                                <input type="text"
                                       ng-model="k9.declarationShipmentK9.VehicleNo2" name="k9.declarationShipmentK9.VehicleNo2" ng-maxlength="70" logicon-limit />
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Ocean B/L No.</label>
                                <input type="text"
                                       ng-model="k9.declarationShipmentK9.OceanBLNo" name="k9.declarationShipmentK9.OceanBLNo" ng-maxlength="15" logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>House B/L No.</label>
                                <input type="text"
                                       ng-model="k9.declarationShipmentK9.HouseBLNo" name="k9.declarationShipmentK9.HouseBLNo" ng-maxlength="15" logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                </div>
                <div ng-if="k9.declarationHeaderK9.TransportMode == 1020">
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                            <h2 class="lvh-label">FLIGHT DETAILS</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Master Airway B/L No.</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.MasterAWBNo"
                                       ng-model="k9.declarationShipmentK9.MasterAWBNo"
                                       ng-maxlength="15"
                                       logicon-limit
                                       ng-required="k9.declarationHeaderK9.TransportMode==1020" />
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>House Airway B/L No.</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.HouseAWBNo"
                                       ng-model="k9.declarationShipmentK9.HouseAWBNo"
                                       ng-maxlength="15"
                                       logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Flight No.</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.FlightNo"
                                       ng-model="k9.declarationShipmentK9.FlightNo"
                                       ng-maxlength="70"
                                       logicon-limit
                                       ng-required="true" />
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Co Load No.</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.AIRCOLoadNo"
                                       ng-model="k9.declarationShipmentK9.AIRCOLoadNo"
                                       ng-maxlength="70"
                                       logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>ETA DATE</label>
                                <input mdc-datetime-picker="" date="true" time="true" type="text" format="{{datetimeFormat}}" class="date-icon"
                                       min-date="date"
                                       ng-model="k9.declarationShipmentK9.ETADate"
                                       ng-required="transportMode == 1021 || transportMode == 1020">
                            </md-input-container>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>ARN No.</label>
                                <input type="text"
                                       name="k9.declarationShipmentK9.ARNNo"
                                       ng-model="k9.declarationShipmentK9.ARNNo"
                                       ng-maxlength="70"
                                       logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                </div>
                <div class="row" ng-if="k9.declarationHeaderK9.TransportMode == 1024">
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                            <h2 class="lvh-label">POST DETAILS</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>JK78 Information No.</label>
                                <input type="text"
                                       ng-model="k9.declarationShipmentK9.JKNo" name="k9.declarationShipmentK9.JKNo" ng-maxlength="70" logicon-limit />
                            </md-input-container>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--<div class="card" id="exemptions">
            <div class="lv-header-alt clearfix m-b-5">
                <h2 class="lvh-label">Exemptions</h2>
            </div>
            <div class="card-body card-padding p-t-5 p-b-5">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-md-12  col-md-6">
                                <h2 class="lvh-label">General/Treasury Exemption</h2>
                            </div>
                            <div class="col-md-12  col-md-6">
                                <h2 class="lvh-label">Claimant Details</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Exemption Type</label>
                                    <md-select name="k9.TreasuryExcemptionType"
                                               ng-model="k9.TreasuryExcemptionType">
                                        <md-option ng-repeat="item in lookUpData.excemptionTypeList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-xs-12 col-md-6" style="border-left:1px solid rgb(189,189,189)">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Name</label>
                                    <input type="text"
                                           class="search-icon"
                                           name="k9.ClaimantName"
                                           ng-class="{'loadinggif':k9.ClaimantNameLoading}"
                                           ng-model="k9.ClaimantName"
                                           uib-typeahead="d.Name as d.Name for d in ClaimantNameResults($viewValue)"
                                           typeahead-min-length="3"
                                           typeahead-loading="k9.ClaimantNameLoading"
                                           typeahead-wait-ms="100"
                                           typeahead-editable="false"
                                           typeahead-on-select="ClaimantNameSelected($item)" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Reference No.</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemption.TreasuryExcemptionReferenceNo" name="k9.declarationExcemption.TreasuryExcemptionReferenceNo" md-maxlength="35" md-select-on-focus style="overflow-y:auto" />
                                </md-input-container>
                            </div>

                            <div class="col-xs-12 col-md-6" style="border-left:1px solid rgb(189,189,189)">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Company</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemption.ClaimantCompany" name="k9.declarationExcemption.ClaimantCompany" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12  col-md-6">
                                <h2 class="lvh-label">Special Treatment</h2>
                            </div>
                            <div class="col-xs-12 col-md-6" style="border-left:1px solid rgb(189,189,189)">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>NRIC(No space or - is allowed)</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemption.ClaimantNRIC" name="k9.declarationExcemption.ClaimantNRIC"
                                           logicon-number ng-maxlength="18" logicon-limit />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Exemption Type</label>
                                    <md-select name="k9.declarationExcemption.SpecialExcemptionType"
                                               ng-model="k9.declarationExcemption.SpecialExcemptionType">
                                        <md-option ng-repeat="item in lookUpData.treatmentTypeList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>

                            <div class="col-xs-12 col-md-6" style="border-left:1px solid rgb(189,189,189)">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Designation</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemption.ClaimantDesignation" name="k9.declarationExcemption.ClaimantDesignation" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Reference No.</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemption.SpecialExcemptionReason" name="k9.declarationExcemption.SpecialExcemptionReason" md-maxlength="35" md-select-on-focus style="overflow-y:auto" />
                                </md-input-container>
                            </div>

                            <div class="col-xs-12 col-md-6" style="border-left:1px solid rgb(189,189,189)">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Status</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemption.ClaimantStatus" name="k9.declarationExcemption.ClaimantStatus" />
                                </md-input-container>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-md-12  col-md-6">
                                <h2 class="lvh-label">GST SPECIAL SCHEME</h2>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Treatment Type</label>
                                    <md-select name="k9.declarationExcemption.SpecialTreatmentType"
                                               ng-model="k9.declarationExcemption.SpecialTreatmentType">
                                        <md-option ng-repeat="item in lookUpData.GSTExemptionTypeList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div class="col-md-6" style="border-left:1px solid rgb(189,189,189)">

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>GST Reference No.</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemption.SpecialRef3" name="k9.declarationExcemption.SpecialRef3" md-maxlength="35" md-select-on-focus style="overflow-y:auto" />
                                </md-input-container>
                            </div>

                            <div class="col-md-6" style="border-left:1px solid rgb(189,189,189)">

                            </div>
                        </div>


                    </div>
                </div>
            k9.declarationExcemptionK9
            </div>
        </div>-->
        <div class="card" id="exemptions">
            <div class="lv-header-alt clearfix m-b-5">
                <h2 class="lvh-label">Exemptions</h2>
            </div>
            <div class="card-body card-padding p-t-5 p-b-5">

                <div class="row">
                    <div class="col-xs-12  col-md-6">
                        <h2 class="lvh-label">General/Treasury Exemption</h2>
                        <div class="row">
                            <div class="col-xs-12 ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Exemption Type</label>
                                    <md-select name="k9.declarationExcemptionK9.TreasuryExcemptionType"
                                               ng-model="k9.declarationExcemptionK9.TreasuryExcemptionType"
                                               ng-change="changeExemptionType()">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.excemptionTypeList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Reference No.</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemptionK9.TreasuryExcemptionReferenceNo" name="k9.declarationExcemptionK9.TreasuryExcemptionReferenceNo" logicon-limit ng-maxlength="30" md-select-on-focus style="overflow-y:auto" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row" ng-if="k9.declarationExcemptionK9.TreasuryExcemptionType==10307||k9.declarationExcemptionK9.TreasuryExcemptionType==10308||k9.declarationExcemptionK9.TreasuryExcemptionType==10309">
                            <div class="col-xs-12  ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label> Exemption Date</label>
                                    <input mdc-datetime-picker="" class="date-icon" date="true" time="false" type="text" id="dateFrom" format="{{dateFormat}}"
                                           min-date="date" name="k9.declarationExcemptionK9.ExcemptionDate" ng-model="k9.declarationExcemptionK9.ExcemptionDate" ng-required="k9.declarationExcemptionK9.TreasuryExcemptionType==10307||k9.declarationExcemptionK9.TreasuryExcemptionType==10308||k9.declarationExcemptionK9.TreasuryExcemptionType==10309" />
                                </md-input-container>
                            </div>

                        </div>
                        <div class="row" ng-if="k9.declarationExcemptionK9.TreasuryExcemptionType==10301||k9.declarationExcemptionK9.TreasuryExcemptionType==10302||k9.declarationExcemptionK9.TreasuryExcemptionType==10303||k9.declarationExcemptionK9.TreasuryExcemptionType==10304">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Country</label>
                                    <md-select name="k9.declarationExcemptionK9.Country"
                                               ng-model="k9.declarationExcemptionK9.Country"
                                               ng-required="k9.declarationExcemptionK9.TreasuryExcemptionType==10301||k9.declarationExcemptionK9.TreasuryExcemptionType==10302||k9.declarationExcemptionK9.TreasuryExcemptionType==10303||k9.declarationExcemptionK9.TreasuryExcemptionType==10304">

                                        <md-option ng-repeat="item in lookUpData.countryList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row m-b-15 m-t-5">
                            <div class="col-xs-12  col-md-6">
                                <h2 class="lvh-label">Special Treatment</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Exemption Type</label>
                                    <md-select name="k9.declarationExcemptionK9.SpecialExcemptionType"
                                               ng-model="k9.declarationExcemptionK9.SpecialExcemptionType">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.treatmentTypeList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Reference No.</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemptionK9.SpecialExcemptionReason" name="k9.declarationExcemptionK9.SpecialExcemptionReason" md-maxlength="35" md-select-on-focus style="overflow-y:auto" />
                                </md-input-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12  col-md-6 border-row-left">
                        <h2 class="lvh-label">Claimant Details</h2>
                        <div class="row">
                            <div class="col-xs-12  ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Name</label>
                                    <input type="text"
                                           class="search-icon"
                                           name="k9.declarationExcemptionK9.ClaimantName"
                                           ng-class="{'loadinggif':k9.declarationExcemptionK9.ClaimantNameLoading}"
                                           ng-model="k9.declarationExcemptionK9.ClaimantName"
                                           uib-typeahead="d.Name as d.Name for d in ClaimantNameResults($viewValue)"
                                           typeahead-min-length="3"
                                           typeahead-loading="k9.declarationExcemptionK9.ClaimantNameLoading"
                                           typeahead-wait-ms="100"
                                           typeahead-editable="false"
                                           typeahead-on-select="ClaimantNameSelected($item)"
                                           ng-blur="ValidateClaimantDetails();k9.declarationExcemptionK9.ClaimantName==null?k9.declarationExcemptionK9.ClaimantID=null:k9.declarationExcemptionK9.ClaimantID=k9.declarationExcemptionK9.ClaimantID" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Company</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemptionK9.ClaimantCompany"
                                           name="k9.declarationExcemptionK9.ClaimantCompany"
                                           ng-disabled="true" />
                                </md-input-container>
                            </div>


                        </div>
                        <div class="row">

                            <div class="col-xs-12 ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>NRIC(No space or - is allowed)</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemptionK9.ClaimantNRIC" name="k9.declarationExcemptionK9.ClaimantNRIC"
                                           logicon-number ng-maxlength="18" logicon-limit
                                           ng-disabled="true" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Designation</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemptionK9.ClaimantDesignation"
                                           name="k9.declarationExcemptionK9.ClaimantDesignation"
                                           ng-disabled="true" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">


                            <div class="col-xs-12 ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Status</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemptionK9.ClaimantStatus"
                                           name="k9.declarationExcemptionK9.ClaimantStatus"
                                           ng-disabled="true" />
                                </md-input-container>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12  col-md-6">
                        <h2 class="lvh-label">GST SPECIAL SCHEME</h2>
                        <div class="row">
                            <div class="col-xs-12 ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Treatment Type</label>
                                    <md-select name="k9.declarationExcemptionK9.SpecialTreatmentType"
                                               ng-model="k9.declarationExcemptionK9.SpecialTreatmentType">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.GSTExemptionTypeList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 ">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>GST Reference No.</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemptionK9.SpecialRef3" name="k9.declarationExcemptionK9.SpecialRef3" ng-maxlength="13" logicon-limit md-select-on-focus style="overflow-y:auto" />
                                </md-input-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12  col-md-6 border-row-left">
                        <h2 class="lvh-label">Sales Tax Exemption</h2>
                        <div class="row">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Type</label>
                                    <md-select name="k9.declarationExcemptionK9.SalesTaxExcemptionType"
                                               ng-model="k9.declarationExcemptionK9.SalesTaxExcemptionType">
                                        <md-option md-option-empty></md-option>
                                        <md-option ng-repeat="item in lookUpData.salesTaxExcemptionList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>

                        </div>
                        <div class="row">



                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Customs Station Code</label>
                                    <md-select ng-model="k9.declarationExcemptionK9.SalesTaxCustomsStationCode" name="k9.declarationExcemptionK9.SalesTaxCustomsStationCode">
                                        <md-option ng-repeat="item in lookUpData.smkList" ng-value="item.Value">
                                            {{item.Text}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Reference No.</label>
                                    <input type="text"
                                           ng-model="k9.declarationExcemptionK9.SalesTaxReferenceNo" name="k9.DeclarationExcemptionK9.SalesTaxReferenceNo" ng-maxlength="13" logicon-limit md-select-on-focus style="overflow-y:auto" />
                                </md-input-container>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <md-input-container class="md-block" flex-gt-sm>
                                    <label>Registration Date</label>
                                    <input mdc-datetime-picker="" class="date-icon" date="true" time="false" type="text" id="dateFrom" format="{{dateFormat}}"
                                           min-date="date" name="k9.declarationExcemptionK9.SalesTaxRegistrationDate" ng-model="k9.declarationExcemptionK9.SalesTaxRegistrationDate" />
                                </md-input-container>
                            </div>
                        </div>
                    </div>





                </div>
            </div>

        </div>
        <div id="containerInfo">
            <div class="card" ng-if="!isConventionalCargo">
                <div class="lv-header-alt clearfix m-b-5">
                    <h2 class="lvh-label">Container Info.</h2> <div class="text-right m-r-10 pull-right"><button class="btn btn-primary" type="button" ng-click="editConInfo(-1)" has-Right data-rightValue="DeclarationK9.AddContainer"><i class="fa fa-plus"></i>&nbsp;Add</button></div>
                    <span class="fileinput fileinput-new pull-right" data-provides="fileinput" has-Right data-rightValue="DeclarationK9.UploadContainer">
                        <span class="btn btn-primary btn-file m-r-10">
                            <span class="fileinput-new"> <i class="fa fa-upload" aria-hidden="true"></i> Upload File</span>
                            <span class="fileinput-exists">Change</span>
                            <input type="file"
                                   id="containerFile"
                                   name="containerFile"
                                   onchange="angular.element(this).scope().ContainerFileUpload(this)">
                        </span>
                        <span class="fileinput-filename"></span>
                        <a href="#" class="close fileinput-exists" data-dismiss="fileinput">&times;</a>
                    </span>
                    <div class="clear"></div>
                </div>
                <div class="card-body card-padding p-t-5 p-b-5">
                    <div class="row">
                        <div class="col-xs-12 col-md-12 ">
                            <div class="row  chart-width ">
                                <div class="col-xs-6 col-md-3  ">
                                    <div class="mini-charts-item bgm-cyan">
                                        <div class="clearfix">
                                            <div class="chart stats-bar" data-sparkline-bar=""><canvas width="63" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas></div>
                                            <div class="count">
                                                <small>Total 20 footer</small>
                                                <h2>{{(k9.declarationContainerK9 | filter : {Size: 20}).length}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-md-3 ">
                                    <div class="mini-charts-item bgm-lightgreen">
                                        <div class="clearfix">
                                            <div class="chart stats-line" data-sparkline-line=""><canvas width="83" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas></div>
                                            <div class="count">
                                                <small>Total 40 footer</small>
                                                <h2>{{(k9.declarationContainerK9 | filter : {Size: 40}).length}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-md-3 ">
                                    <div class="mini-charts-item bgm-orange">
                                        <div class="clearfix">
                                            <div class="chart stats-pie" data-sparkline-pie="">
                                                <canvas width="83" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas>
                                            </div>
                                            <div class="count">
                                                <small>Total 45 footer</small>
                                                <h2>{{(k9.declarationContainerK9 | filter : {Size: 45}).length}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-md-3 ">
                                    <div class="mini-charts-item bgm-blue">
                                        <div class="clearfix">
                                            <div class="chart stats-bar" data-sparkline-bar=""><canvas width="83" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas></div>
                                            <div class="count">
                                                <small>No. Of Containers</small>
                                                <h2>{{k9.declarationContainerK9.length}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-xs-12">
                            <div class="table-responsive">
                                <table class="table  table-vmiddle" ng-table="tblK9Container">
                                    <tr ng-repeat="item in $data">

                                        <td data-title="'Item No'" class="no">{{K9ContainerIndex+($index + 1)}}</td>
                                        <td data-title="'Container No.'">{{item.ContainerNo}}</td>
                                        <td data-title="'Size'">{{(lookUpData.sizeList | filter : {Value:item.Size})[0].Text}}</td>
                                        <td data-title="'Type'">{{item.Type}}</td>
                                        <td data-title="'Container Type'">{{(lookUpData.jobTypeList | filter : {Value:item.EQDStatus})[0].Text}}</td>
                                        <td data-title="'Status'">{{(lookUpData.containerStatusList | filter : {Value:item.ContainerStatus})[0].Text}}</td>
                                        <td data-title="'#Action'" class="action">
                                            <button class="btn bgm-lightgreen waves-effect"
                                                    type="button"
                                                    ng-click="editConInfo(K9ContainerIndex+($index))" has-Right data-rightValue="DeclarationK9.UpdateContainer"
                                                    aria-label="button" uib-tooltip="Edit" tooltip-placement="top">
                                                <i class="zmdi zmdi-edit"></i>
                                            </button>
                                            <button class="btn bgm-teal waves-effect"
                                                    type="button"
                                                    ng-click="CopyContainer(item)" has-Right data-rightValue="DeclarationK9.CopyContainer"
                                                    uib-tooltip="Copy" tooltip-placement="top">

                                                <i class="zmdi zmdi-refresh"></i>
                                            </button>
                                            <button class="btn btn-danger waves-effect"
                                                    type="button"
                                                    ng-click="deleteContainer(K9ContainerIndex+($index))" has-Right data-rightValue="DeclarationK9.DeleteContainer"
                                                    aria-label="button" uib-tooltip="Delete" tooltip-placement="top">
                                                <i class="zmdi zmdi-delete"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="itemEntry">
            <div class="card">
                <div class="lv-header-alt clearfix m-b-5">
                    <h2 class="lvh-label">Item Entry</h2> <div class="text-right pull-right m-r-10" ng-if="showAddBtn"><button type="button" ng-click="editItem(-1);" has-Right data-rightValue="DeclarationK9.AddItem" class="btn btn-primary"><i class="fa fa-plus"></i>&nbsp;Add</button></div>
                    <span class="fileinput fileinput-new pull-right" data-provides="fileinput" has-Right data-rightValue="DeclarationK9.UploadItem">
                        <span class="btn btn-primary btn-file m-r-10">
                            <span class="fileinput-new"> <i class="fa fa-upload" aria-hidden="true"></i> Upload File</span>
                            <span class="fileinput-exists">Change</span>
                            <input type="file"
                                   id="cargoFile"
                                   name="cargoFile"
                                   onchange="angular.element(this).scope().CargoFileUpload(this)">
                        </span>
                        <span class="fileinput-filename"></span>
                        <a href="#" class="close fileinput-exists" data-dismiss="fileinput">&times;</a>
                    </span>
                    <div class="clearfix"></div>
                </div>
                <div class="card-body card-padding p-t-25 p-b-25">
                    <div class="row">
                        <div class="col-xs-12 col-md-12 ">
                            <div class="row chart-width ">
                                <div class="col-xs-6 col-md-2 ">
                                    <div class="mini-charts-item bgm-cyan">
                                        <div class="clearfix">
                                            <div class="chart stats-bar" data-sparkline-bar=""><canvas width="63" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas></div>
                                            <div class="count">
                                                <small>Total Invoice Value</small>
                                                <h2>{{k9.declarationItemK9 | sumOfValue:'ItemAmount' | currency: ''}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-md-2">
                                    <div class="mini-charts-item bgm-lightgreen">
                                        <div class="clearfix">
                                            <div class="chart stats-line" data-sparkline-line=""><canvas width="83" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas></div>
                                            <div class="count">
                                                <small>Total Duty Payable</small>
                                                <h2>{{k9.declarationItemK9 | sumOfValue:'TotalDutyPayable' | currency: ''}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-md-2">
                                    <div class="mini-charts-item bgm-orange">
                                        <div class="clearfix">
                                            <div class="chart stats-pie" data-sparkline-pie="">
                                                <canvas width="83" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas>
                                            </div>
                                            <div class="count">
                                                <small>Total GST Payable</small>
                                                <h2>{{k9.declarationItemK9 | sumOfValue:'TotalGSTPayable' | currency: ''}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-md-2">
                                    <div class="mini-charts-item bgm-blue">
                                        <div class="clearfix">
                                            <div class="chart stats-bar" data-sparkline-bar=""><canvas width="83" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas></div>
                                            <div class="count">
                                                <small>No. Of Items</small>
                                                <h2>{{k9.declarationItemK9.length}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-md-2">
                                    <div class="mini-charts-item bgm-pink">
                                        <div class="clearfix">
                                            <div class="chart stats-pie" data-sparkline-pie=""><canvas width="83" height="45" style="display: inline-block; width: 83px; height: 45px; vertical-align: top;"></canvas></div>
                                            <div class="count">
                                                <small>Total In Local Currency</small>
                                                <h2>{{k9.declarationItemK9 | sumOfValue:'TotalUnitLocalAmount' | currency: ''}}</h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row" ng-if="showAddBtn">
                        <div class="col-xs-12">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="table-responsive">
                                <table class="table  table-vmiddle" ng-table="tableSorting">
                                    <tr ng-repeat="w in $data">
                                        <td data-title="'Item No'" class="no">
                                            {{ itemEntryIndex + ($index + 1) }}
                                        </td>
                                        <td data-title="'Product Code'">
                                            {{ w.ProductCode }}
                                        </td>
                                        <td data-title="'Origin'">
                                            {{ w.OriginCountryCode }}
                                        </td>
                                        <td data-title="'HS Code'">
                                            {{ w.HSCode }}
                                        </td>
                                        <td data-title="'Declared Qty'">
                                            {{ w.DeclaredQty }}
                                        </td>
                                        <td data-title="'Declared UOM'">
                                            {{ w.DeclaredUOM }}
                                        </td>
                                        <td data-title="'Item Amount'">
                                            {{ w.ItemAmount | currency: '' }}
                                        </td>
                                        <td data-title="'Unit Price'">
                                            {{ w.UnitLocalAmount | currency: '' }}
                                        </td>
                                        <td data-title="'Total In MYR'">
                                            {{ w.TotalUnitLocalAmount | currency: '' }}
                                        </td>
                                        <td data-title="'Total Duty'">
                                            {{ w.TotalDutyPayable | currency: '' }}
                                        </td>
                                        <td data-title="'Total GST'">
                                            {{ w.TotalGSTPayable | currency: '' }}
                                        </td>
                                        <td data-title="'Action'" class="action">
                                            <button class="btn bgm-lightgreen waves-effect"
                                                    type="button"
                                                    ng-click="editItem($index)" has-Right data-rightValue="DeclarationK9.UpdateItem"
                                                    aria-label="button" uib-tooltip="Edit" tooltip-placement="top">
                                                <i class="zmdi zmdi-edit"></i>
                                            </button>
                                            <button class="btn bgm-teal waves-effect"
                                                    type="button"
                                                    uib-tooltip="Copy" tooltip-placement="top" ng-click="CopyItemEntry(w)" has-Right data-rightValue="DeclarationK9.CopyItem">
                                                <i class="zmdi zmdi-refresh"></i>
                                            </button>
                                            <button class="btn btn-danger waves-effect"
                                                    type="button"
                                                    ng-disabled="item.BranchID != null"
                                                    ng-click="deleteItem($index)" has-Right data-rightValue="DeclarationK9.DeleteItem"
                                                    aria-label="button" uib-tooltip="Delete" tooltip-placement="top">
                                                <i class="zmdi zmdi-delete"></i>
                                            </button>

                                        </td>
                                    </tr>

                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card" id="supportDocs">
            <div class="lv-header-alt clearfix m-b-5">
                <h2 class="lvh-label">Supporting Documents</h2> <div class="text-right m-r-10 pull-right"><button type="button" ng-click="editDocument(-1);" has-Right data-rightValue="DeclarationK9.UploadDocument" class="btn btn-primary"><i class="fa fa-plus"></i>&nbsp;Add</button></div> <div class="clearfix"></div>
            </div>
            <div class="card-body card-padding p-t-25 p-b-25">

                <div class="row">
                    <div class="col-xs-12">
                        <div class="table-responsive">
                            <table class="table  table-vmiddle" ng-table="tableSortings">
                                <tr ng-repeat="item in $data">
                                    <td data-title="'Item No'" class="no">
                                        {{ DocIndex + ($index + 1) }}
                                    </td>
                                    <td data-title="'Code'">
                                        {{ (lookUpData.SupportingDocumentTypeList | filter : {Value: item.SupportingDocumentType})[0].Text }}
                                    </td>
                                    <td data-title="'Reference No.'">
                                        {{ item.ReferenceNo }}
                                    </td>
                                    <td data-title="'Custom Station'">
                                        {{ (lookUpData.smkList | filter : {Value:item.CustomStationCode})[0].Text }}
                                    </td>
                                    <td data-title="'Date Type'">
                                        {{ (lookUpData.docDateTypeList | filter : {Value:item.DocDateType})[0].Text }}
                                    </td>
                                    <td data-title="'Doc. Date'">

                                        <!-- {{item.DocDate | date:'dd/MM/yyyy' }}-->
                                        {{formatDate(item.DocDate)}}


                                    </td>

                                    <td data-title="'Action'" class="action">
                                        <button class="btn bgm-lightgreen waves-effect"
                                                type="button"
                                                ng-click="editDocument($index)" has-Right data-rightValue="DeclarationK9.ViewDocument"
                                                aria-label="button" uib-tooltip="Edit" tooltip-placement="top">
                                            <i class="zmdi zmdi-edit"></i>
                                        </button>
                                        <!--<button class="btn bgm-teal waves-effect"
                                                type="button"
                                                uib-tooltip="Copy" tooltip-placement="top" ng-click="CopyDocuments(item)">
                                            <i class="zmdi zmdi-refresh"></i>
                                        </button>-->
                                        <button class="btn btn-danger waves-effect"
                                                type="button"
                                                ng-click="deleteDocument($index)" has-Right data-rightValue="DeclarationK9.DeleteDocument"
                                                aria-label="button" uib-tooltip="Delete" tooltip-placement="top">
                                            <i class="zmdi zmdi-delete"></i>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card" id="Clause">
            <div class="lv-header-alt clearfix m-b-5">
                <h2 class="lvh-label">Clause</h2>
            </div>
            <div class="card-body card-padding p-t-5 p-b-5">
                <div class="row">

                    <div class="col-xs-4">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Clause Code</label>
                            <md-select ng-model="k9.declarationClauseK9.ClauseCode" name="k9.declarationClauseK9.ClauseCode"
                                       ng-change="k9.declarationClauseK9.ClauseText=(lookUpData.clauseTypeList | filter : {Value:k9.declarationClauseK9.ClauseCode})[0].ClauseText;validateClause()">
                                <md-option md-option-empty></md-option>
                                <md-option ng-repeat="item in lookUpData.clauseTypeList" ng-value="item.Value">
                                    {{item.Text}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-8">
                        <md-input-container class="md-block">
                            <md-input-container class="md-block" flex-gt-sm>
                                <label>Clause Text</label>
                                <textarea rows="5" ng-model="k9.declarationClauseK9.ClauseText" name="k9.declarationClauseK9.ClauseText" readonly="readonly"></textarea>
                            </md-input-container>

                    </div>
                </div>
            </div>
        </div>


        <div class="card" ng-if="customresponses.length>0" id="responses">
            <div class="lv-header-alt clearfix m-b-5">
                <h2 class="lvh-label">Responses</h2>
            </div>
            <div class="card-body card-padding p-t-25 p-b-25">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="table-responsive">
                            <table class="table  table-vmiddle">
                                <thead>
                                    <tr>
                                        <th>Reg No.</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Remark</th>
                                        <th>Code</th>
                                        <th>SNRF</th>
                                        <th>Status</th>
                                        <th>Office ID</th>
                                        <th>Office Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in customresponses" ng-click="DisplayResponseData(item)" style="cursor:pointer;">
                                        <td>{{item.RegistrationNo}}</td>
                                        <td>{{item.RegistrationDate | date : 'dd/MM/yyyy'}}</td> <!--| date : 'dd/MM/yyyy'-->
                                        <td>{{(item.RegistrationNo != null && item.RegistrationNo != '' ? '': (item.RegistrationDate | date : 'hh:mm a'))}}</td>
                                        <td>{{item.Remark}}</td>
                                        <td>{{item.Code}}</td>
                                        <td>{{item.SNRF}}</td>
                                        <td>{{item.Status}}</td>
                                        <td>{{item.OfficerID}}</td>
                                        <td>{{item.OfficeName}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row p-t-25">
                    <div class="col-xs-12 col-md-6">
                        <div class="card">
                            <div class="lv-header-alt clearfix m-b-5">
                                <h2 class="lvh-label">Customs Registration Details</h2>
                            </div>
                            <div class="card-body card-padding p-t-25 p-b-25">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <md-input-container class="md-block" flex-gt-sm>
                                            <label>Registration No.</label>
                                            <input type="text"
                                                   ng-model="customresponseheaderItem.RegistrationNo" readonly="readonly" />
                                        </md-input-container>

                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 col-md-7">
                                        <md-input-container class="md-block" flex-gt-sm>
                                            <label>Registration Date</label>
                                            <input mdc-datetime-picker="" date="true" time="false" type="text" id="dateFrom" format="{{dateFormat}}" class="date-icon"
                                                   min-date="date" ng-model="customresponseheaderItem.RegistrationDate" name="customresponseheaderItem.RegistrationDate" ng-disabled="true">
                                        </md-input-container>
                                    </div>

                                    <div class="col-xs-12 col-md-5" ng-if="customresponseheaderItem.RegistrationNo==null || customresponseheaderItem.RegistrationNo==''">
                                        <md-input-container class="md-block" flex-gt-sm>
                                            <label>Time</label>
                                            <input mdc-datetime-picker="" date="true" time="true" type="text" id="dateFrom" format="{{timeFormat}}" class="date-icon"
                                                   ng-model="customresponseheaderItem.RegistrationDate" ng-disabled="true">
                                        </md-input-container>
                                    </div>
                                    <div class="col-xs-12 col-md-5" ng-if="customresponseheaderItem.RegistrationNo!=null && customresponseheaderItem.RegistrationNo!=''">
                                        <md-input-container class="md-block" flex-gt-sm>
                                            <label>Time</label>
                                            <input mdc-datetime-picker="" date="true" time="true" type="text" id="dateFrom" class="date-icon"
                                                   ng-model="time" ng-disabled="true">
                                        </md-input-container>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <md-input-container class="md-block" flex-gt-sm>
                                            <label>Total Duty Amount(MYR)</label>
                                            <input type="text" readonly="readonly" ng-model="dutyAmountlist.TotalDutyPayable" logicon-format="2" />
                                        </md-input-container>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <md-input-container class="md-block" flex-gt-sm>
                                            <label>Total GST Amount(MYR)</label>
                                            <input type="text" readonly="readonly" ng-model="dutyAmountlist.TotalGSTPayable" logicon-format="2" />
                                        </md-input-container>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 col-md-4">
                                        <md-input-container class="md-block" flex-gt-sm>
                                            <label>Total Duty Amount Amended(MYR)</label>
                                            <input type="text" readonly="readonly" />
                                        </md-input-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <div class="card">
                            <div class="lv-header-alt clearfix m-b-5">
                                <h2 class="lvh-label">Response(s) from Declaration and Customs</h2>
                            </div>
                            <div class="card-body card-padding p-t-25 p-b-25">
                                <div class="row">
                                    <div class="col-xs-12">


                                        <table class="table  table-vmiddle">
                                            <thead>
                                                <tr>
                                                    <th>Code</th>
                                                    <th>Description</th>
                                                    <th>Line No.</th>
                                                    <th>SNRF</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="item in customresponseheaderItem.customResponseDetails">
                                                    <td>{{item.Code}}</td>
                                                    <td>{{item.Description}}</td>
                                                    <td>{{item.ItemLine}}</td>
                                                    <td>{{customresponseheaderItem.SNRF}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <h2 class="lvh-label">Amended Declaration Details</h2>
                        <div class="table-responsive">
                            <table class="table  table-vmiddle">
                                <thead>
                                    <tr>
                                        <th>Code</th>
                                        <th>HS Original</th>
                                        <th>HS Amended</th>
                                        <th>Unit Price Original</th>
                                        <th>Unit Price Amended</th>
                                        <th>Item No.</th>
                                        <th>SNRF</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in ammendantsResponse">
                                        <td>{{item.Code}}</td>
                                        <td>{{item.OldHSCode}}</td>
                                        <td>{{item.NewHSCode}}</td>
                                        <td>{{item.OldUnitPrice}}</td>
                                        <td>{{item.NewUnitPrice}}</td>
                                        <td>{{item.ItemNo}}</td>
                                        <td>{{item.SNRF}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card" ng-if="ediresponse.length > 0">
            <div class="lv-header-alt clearfix m-b-5">
                <h2 class="lvh-label">EDI Status Response</h2>
            </div>
            <div class="card-body card-padding p-t-5 p-b-5 m-t-15">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="table-responsive">
                            <table class="table  table-vmiddle no-table-nowrap">
                                <thead>
                                    <tr>
                                        <th>Message Type</th>
                                        <th>EDI Send Date</th>
                                        <th>File Name</th>
                                        <th>Error Message</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in ediresponse">
                                        <td>{{item.MessageType}}</td>
                                        <td>{{formatDate(item.EDIDateTime)}}</td>
                                        <td>{{item.FileName}}</td>
                                        <td>{{item.ErrorMessage}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--<div class="card" ng-if="declarationOrderStatus.length > 0">
            <div class="lv-header-alt clearfix m-b-5">
                <h2 class="lvh-label">Agent Status</h2>
            </div>
            <div class="card-body card-padding p-t-5 p-b-5 m-t-15">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="table-responsive">
                            <table class="table  table-vmiddle">
                                <thead>
                                    <tr>
                                        <th>Forwarding Agent</th>
                                        <th>Declaration No</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in declarationOrderStatus">
                                        <td>{{item.FwdAgent}}</td>
                                        <td>{{item.DeclarationNo}}</td>
                                        <td>{{item.DeclinedOn| date : 'dd/MM/yyyy'}}</td>
                                        <td>{{item.DeclinedOn| date : 'hh:mm'}}</td>
                                        <td>
                                            <div class="all-status" ng-switch="item.Status | lowercase">
                                                <h5 ng-switch-when="declaration generated"> <span>JOB SENT TO AGENT</span></h5>
                                                <h5 ng-switch-default><span>{{item.Status}}</span></h5>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>-->
        <div class="card">



            <div class="card-body card-padding p-t-25 p-b-25">
                <div class="row">

                    <div class="col-xs-12 m-t-15 m-b-10">

                        <span class="pull-left">
                            <button type="button" class="btn bgm-bluegray waves-effect" ng-click="Savek9DeclarationPartial(k9)" has-Right data-rightValue="DeclarationK9.DeclarationK9" data-accessRight="2"><i class="fa fa-floppy-o" aria-hidden="true"></i>&nbsp;Save Declaration</button>
                            <button class="btn btn-primary" type="submit" ng-click="submitted = true;" has-Right data-rightValue="DeclarationK9.DeclarationK9" data-accessRight="2"><i class="fa fa-check-circle" aria-hidden="true"></i>&nbsp;Validate Declaration</button>


                            <button class="btn btn-success" ng-disabled="btncustom" ng-if="IsDeclarationValidated" type="button" ng-click="GenerateFile(k9,k9.declarationHeaderK9.DeclarationNo)" has-Right data-rightValue="DeclarationK9.SubmitDeclaration"><i class="fa fa-cogs" aria-hidden="true"></i>&nbsp;Send to Customs</button>
                        </span>
                        <span class="pull-right">
                            <button class="btn btn-default" type="button" ng-click="clear();">
                                <i class="fa fa-eraser" aria-hidden="true"></i>&nbsp;Clear
                            </button>
                            <button class="btn btn-primary" type="button" ng-click="back();">
                                <i class="fa fa-backward" aria-hidden="true"></i>&nbsp;Back
                            </button>
                        </span>
                        <span class="pull-left">&nbsp;</span>
                        <span class="pull-left">
                            <div class="btn-group" ng-if="IsDeclarationValidated" has-Right data-rightValue="DeclarationK9.Print">
                                <div class="btn-group" uib-dropdown>
                                    <button type="button" class="btn btn-primary" uib-dropdown-toggle>
                                        Print
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu" role="menu">
                                        <li><a class="cursorCss" ng-click="GenerateReportPDF('A4')" href="#">&nbsp;K9 A4</a></li>
                                        <li><a class="cursorCss" ng-click="GenerateReportPDF('PDF')" href="#">&nbsp;K9 Pdf</a></li>
                                        <li><a class="cursorCss" ng-click="GenerateReport('K9 Chit','DNeX.DeclarationK9Chit','ViewReportK1')" href="#">&nbsp;k9 Chit</a></li>
                                    </ul>
                                </div>
                            </div>
                            <!--<button type="button" class="btn bgm-bluegray" ng-click="DeclineDeclaration(k9.declarationHeaderK9.DeclarationNo,k9.declarationHeaderK9.OrderNo)"><i class="fa fa-floppy-o" aria-hidden="true">DECLINE</i>&nbsp;</button>-->
                        </span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12" style="margin-top:10px; font-size:12px;">
                        FOB: {{k9.declarationInvoiceK9.FOBAmount}} CIF: {{k9.declarationInvoiceK9.CIFAmount}} EXW: {{k9.declarationInvoiceK9.EXWAmount}} CNF: {{k9.declarationInvoiceK9.CNFAmount}} CNI: {{k9.declarationInvoiceK9.CNIAmount}} Freight: {{k9.declarationInvoiceK9.FreightAmount}} insurance: {{k9.declarationInvoiceK9.InsuranceAmount}} CIFC: {{k9.declarationInvoiceK9.CIFCAmount}}
                    </div>
                </div>
            </div>
        </div>



    </form>
    <div id="feedback">
        <div class="feedback-links">

            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('iFrameMaininner')"> <i class="fa fa-clone f-12" aria-hidden="true"></i>  Header Information</button>
            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('Location')"> <!--<img class="iconCss" src="../../../../images/icons/ship.png" style="width:20px">&nbsp;--><i class="zmdi zmdi-collection-item f-12" aria-hidden="true"></i>Location</button>
            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('invoiceDetails')"> <i class="fa fa-bar-chart f-12" aria-hidden="true"></i> Invoice Details</button>
            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('chargesInfo')"> <i class="fa fa-list-alt f-12" aria-hidden="true"></i>  charges Information</button>
            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('shipmentDetails')"> <i class="fa fa-ship f-12" aria-hidden="true"></i>   Shipment Details</button>
            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('exemptions')"> <i class="zmdi zmdi-collection-item f-12" aria-hidden="true"></i> Exemptions</button>

            <button style="display:block;" ng-if="!isConventionalCargo" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('containerInfo')"> <i class="fa fa-th-large f-12" aria-hidden="true"></i>  Container Information</button>

            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('itemEntry')"> <i class="fa fa-server f-12" aria-hidden="true"></i>  Item Entry</button>
            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('supportDocs')"> <i class="fa fa-file-word-o f-12" aria-hidden="true"></i>   Supporting Documents</button>
            <button style="display:block;" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('Clause')"> <i class="fa fa-clone f-12" aria-hidden="true"></i>  Clause</button>

            <button style="display:block;" ng-if="customresponses.length>0" type="button" class="btn btn-default btn-block waves-effect" ng-click="navigateTo('responses')"><i class="fa fa-envelope-o" aria-hidden="true"></i> Responses</button>


        </div>
        <a class="pull_feedback" style="display:block; font-size:18px;cursor:pointer;" ng-click="toggleFeedback()"><i class="zmdi zmdi-settings"></i></a>
    </div>
</div>
